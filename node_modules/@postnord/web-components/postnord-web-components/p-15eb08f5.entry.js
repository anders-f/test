import{r as t,h as n,a as o,g as i}from"./p-3aa90682.js";const e=class{constructor(n){t(this,n),this.label="Dropdown",this.icon="",this.open=!1,this.position="",this.right=!1,this.handleGlobalEvents=this.globalHandler.bind(this)}componentDidLoad(){const t=Array.from(this.hostElement.querySelectorAll(".nav-dropdown-content a")),n=Array.from(this.hostElement.querySelectorAll(".nav-dropdown-content button")),o=Array.from(this.hostElement.querySelectorAll(".nav-dropdown-content input"));this.dropdown=this.hostElement.querySelector(".nav-dropdown-content-container"),this.focusableElements=[...n,...t,...o],this.toggleTabOrder()}openHandler(){this.toggleTabOrder(),this.toggleDropdown(),this.open&&(document.addEventListener("click",this.handleGlobalEvents),document.addEventListener("keyup",this.handleGlobalEvents)),this.open||(document.removeEventListener("click",this.handleGlobalEvents),document.removeEventListener("keyup",this.handleGlobalEvents))}globalHandler(t){if(!this.hostElement.contains(t.target)&&"scroll"!==t.type||"Escape"===(null==t?void 0:t.key))this.open=!1;else if("scroll"===t.type){const t=this.hostElement.getBoundingClientRect().top;(window.innerHeight-this.hostElement.getBoundingClientRect().bottom<=0||t<=0)&&(this.open=!1)}}toggleDropdown(){this.right=this.hostElement.offsetLeft>window.innerWidth/2,requestAnimationFrame((()=>{this.open&&(this.dropdown.style.transition="none",this.dropdown.style.transform="none");const t=this.dropdown.getBoundingClientRect();let n;n=t.right>window.innerWidth||t.x<0?t.x+t.width+.025*window.innerWidth-window.innerWidth:0,this.dropdown.style.transform="",requestAnimationFrame((()=>{this.dropdown.style.transition="",this.dropdown.style.transform=this.open?`scale(1) translateX(-${n}px)`:"",requestAnimationFrame((()=>{this.hostElement.dataset.open=`${this.open}`}))}))}))}toggleTabOrder(){if(!this.focusableElements.length)return;const t=this.open?"0":"-1";this.focusableElements.forEach((n=>{n.setAttribute("tabindex",t)}))}ripple(t){const n=this.hostElement.querySelector(".pn-nav-dropdown-label");this.open=!this.open;const o=n.getBoundingClientRect(),i=o.left,e=o.top,s=document.createElement("div"),r=o.width>o.height?o.width:o.height;s.classList.add("pn-ripple"),n.appendChild(s),s.style.height=2*r+"px",s.style.width=2*r+"px",s.style.left=t.clientX>0?t.clientX-i+"px":"50%",s.style.top=t.clientY>0?t.clientY-e+"px":"50%",setTimeout((()=>s.remove()),400)}getClassNames(){let t="";return this.right&&(t+="nav-dropdown-right "),t}render(){return n(o,{class:this.getClassNames()},n("button",{class:"pn-nav-dropdown-label",type:"button",onClick:t=>this.ripple(t)},this.label,this.icon?n("pn-icon",{symbol:this.icon,color:"blue700"}):null),n("div",{class:"nav-dropdown-content-container"},n("div",{class:"nav-dropdown-content"},n("slot",null))))}get hostElement(){return i(this)}static get watchers(){return{open:["openHandler"]}}};e.style="pn-nav-dropdown{display:inline-block;position:relative}pn-nav-dropdown>button{background:none;outline:none;border-radius:0.8rem;border:none;cursor:pointer;padding:0.25em;font-size:1em;-webkit-transition:background 0.15s, -webkit-box-shadow 0.15s;transition:background 0.15s, -webkit-box-shadow 0.15s;transition:box-shadow 0.15s, background 0.15s;transition:box-shadow 0.15s, background 0.15s, -webkit-box-shadow 0.15s;position:relative;overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;color:#005d92;font-weight:normal}pn-nav-dropdown>button:focus{-webkit-box-shadow:0 0 0 0.2rem #fff, 0 0 0 0.4rem #005d92;box-shadow:0 0 0 0.2rem #fff, 0 0 0 0.4rem #005d92}pn-nav-dropdown>button:hover,pn-nav-dropdown>button:focus{background:#effbff}.pn-nav-dropdown-label>pn-icon{margin-left:0.4em}.nav-dropdown-content-container{position:absolute;top:130%;left:0;border-radius:1em;-webkit-box-shadow:0 0.2rem 1.6rem rgba(0, 0, 0, 0.2);box-shadow:0 0.2rem 1.6rem rgba(0, 0, 0, 0.2);-webkit-transform-origin:top left;transform-origin:top left;-webkit-transition:-webkit-transform 0.2s cubic-bezier(0.6, 0, 0.4, 1) 0.15s;transition:-webkit-transform 0.2s cubic-bezier(0.6, 0, 0.4, 1) 0.15s;transition:transform 0.2s cubic-bezier(0.6, 0, 0.4, 1) 0.15s;transition:transform 0.2s cubic-bezier(0.6, 0, 0.4, 1) 0.15s, -webkit-transform 0.2s cubic-bezier(0.6, 0, 0.4, 1) 0.15s;-webkit-transform:scale(0);transform:scale(0);overflow-y:auto;max-width:95vw;max-width:min(95vw, 40em);max-height:80vh;z-index:10;background:#ffffff}pn-nav-dropdown.nav-dropdown-right .nav-dropdown-content-container{left:unset;right:0;-webkit-transform-origin:top right;transform-origin:top right}.nav-dropdown-content{padding:1em;opacity:0;-webkit-transition:opacity 0.1s cubic-bezier(0.6, 0, 0.4, 1);transition:opacity 0.1s cubic-bezier(0.6, 0, 0.4, 1);-webkit-transition-delay:0s;transition-delay:0s;position:relative;width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:100%}pn-nav-dropdown[data-open=true] .nav-dropdown-content-container{-webkit-transition-delay:0s;transition-delay:0s}pn-nav-dropdown[data-open=true] .nav-dropdown-content{-webkit-transition-delay:0.3s;transition-delay:0.3s;-webkit-transition-duration:0.18s;transition-duration:0.18s;opacity:1}pn-nav-dropdown .pn-ripple{-webkit-animation:ripple 0.4s cubic-bezier(0.6, 0, 0.4, 1);animation:ripple 0.4s cubic-bezier(0.6, 0, 0.4, 1);position:absolute;border-radius:50%;background:#005d92;-webkit-transform:translate(-50%, -50%) scale(0);transform:translate(-50%, -50%) scale(0);opacity:0.1;pointer-events:none;z-index:3}@-webkit-keyframes ripple{to{-webkit-transform:translate(-50%, -50%) scale(1);transform:translate(-50%, -50%) scale(1);opacity:0}}@keyframes ripple{to{-webkit-transform:translate(-50%, -50%) scale(1);transform:translate(-50%, -50%) scale(1);opacity:0}}";export{e as pn_nav_dropdown}