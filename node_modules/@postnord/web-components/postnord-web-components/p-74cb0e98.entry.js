import{r as t,c as e,h as i,a as n,g as a}from"./p-3aa90682.js";const s={MONTHS:{en:["January","February","March","April","May","June","July","August","September","October","November","December"],sv:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],da:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],fi:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],no:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"]},WEEK:{en:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],sv:["Mån","Tis","Ons","Tor","Fre","Lör","Sön"],da:["Man","Tir","Ons","Tor","Fre","Lør","Søn"],fi:["Ma","Ti","Ke","To","Pe","La","Su"],no:["Ma.","Ti.","On.","To.","Fr.","Lø.","Sø"]}},r=class{constructor(i){t(this,i),this.dateselection=e(this,"dateselection",7),this.language="en",this.start=null,this.end=null,this.minDate=null,this.maxDate=null,this.range=!1,this.disableWeekends=!1,this.disabledDates=null,this.placeholder="",this.endPlaceholder="",this.currentState="idle",this.week=[],this.months=[],this.startDate=null,this.endDate=null,this.open=!1,this.activeSelectionState=!1,this.selectionMade=!1,this.years=[],this.today=new Date,this.shouldScroll=!0,this.machine={initial:"idle",states:{idle:{on:{click:t=>{this.selectionMade=!1;const{year:e,month:i,day:n}=t;return this.startDate=new Date(e,i,n),this.range?(this.endDate=new Date(e,i,n),this.activeSelectionState=!0,"dragging"):(this.makeSelection(),"idle")}}},dragging:{on:{pointerover:t=>{const{year:e,month:i,day:n}=t,a=new Date(e,i,n);return this.endDate=a===this.startDate||this.shouldDisable(e,i,n)?null:a,"dragging"},click:()=>(this.makeSelection(),"idle"),pointercancel:"idle"}}}},this.handleGlobalClick=this.clickHandler.bind(this)}dateSelectionHandler(){this.open=!1}send(t,e){const i=this.machine.states[this.currentState].on[e.type];"function"==typeof i?this.currentState=i(t,e):i&&(this.currentState=i)}componentWillLoad(){this.setDateFromOutside(),this.setLanguage(),this.setYears()}makeSelection(){if(!this.range&&this.startDate)return void this.dateselection.emit(this.formatDate(this.startDate));if(!this.startDate||!this.endDate)return;const t=this.startDate>this.endDate?this.endDate:this.startDate,e=this.endDate>this.startDate?this.endDate:this.startDate;this.activeSelectionState=!1,this.selectionMade=!0,this.dateselection.emit({start:this.formatDate(t),end:this.formatDate(e)})}startHandler(){this.setDateFromOutside()}endHandler(){this.setDateFromOutside()}openHandler(){this.shouldScroll&&this.scrollToMonth(),this.open?document.addEventListener("click",this.handleGlobalClick):(!this.selectionMade&&this.range&&(this.endDate=null),document.removeEventListener("click",this.handleGlobalClick))}scrollToMonth(){this.shouldScroll=!1;const t=this.startDate&&this.startDate.getTime()?this.startDate:new Date,e=t.getFullYear(),i=this.months[t.getMonth()],n=this.hostElement.querySelector(`[data-year="${e}"] [data-month="${i}"]`);this.hostElement.querySelector(".calendar").scrollTop=n.offsetTop}clickHandler(t){var e;const i=null===(e=t.composedPath)||void 0===e?void 0:e.call(t)[0];this.hostElement.contains(i)||(this.open=!1)}setLanguage(){const t=window.pnTopbar;t&&(this.language=t.language,t.onChangeLanguage=t=>{this.language=t,this.months=s.MONTHS[this.language],this.week=s.WEEK[this.language]}),this.months=s.MONTHS[this.language],this.week=s.WEEK[this.language]}setDateFromOutside(){this.start&&this.checkEnabledDate(this.start)&&(this.startDate=new Date(this.start)),this.end&&this.checkEnabledDate(this.end)&&(this.endDate=new Date(this.end)),this.startDate&&this.makeSelection()}checkEnabledDate(t){if(!this.checkValidDate(t))return;const e=new Date(t),i=e.getFullYear(),n=e.getMonth(),a=e.getDate();return!this.shouldDisable(i,n,a)}leadingZero(t){return t<10?`0${t}`:t}formatDate(t){return t?`${t.getFullYear()}-${this.leadingZero(t.getMonth()+1)}-${this.leadingZero(t.getDate())}`:""}checkValidDate(t){return!!t.match(/^\d{4}-\d{2}-\d{2}$/)&&!!new Date(t).getTime()}checkToday(t,e,i){return this.formatDate(this.today)===this.formatDate(new Date(t,e,i))}calculateSelected(t,e,i){const n=this.formatDate(new Date(t,e,i)),a=this.formatDate(this.startDate>this.endDate?this.endDate:this.startDate),s=this.formatDate(this.endDate>this.startDate?this.endDate:this.startDate);return!a&&s&&n===s?"single":this.startDate?a&&!s&&n===a||a&&s&&n===a&&n===s?"single":n>a&&n<s&&this.endDate?"between":n===a?"start":n===s?"end":null:void 0}shouldDisable(t,e,i){const n=new Date(t,e,i);if(this.minDate&&this.maxDate){const t=n.setHours(0,0,0,0),e=new Date(this.minDate).setHours(0,0,0,0),i=new Date(this.maxDate).setHours(0,0,0,0);if(t<e||t>i)return!0}const a=this.isWeekend(n);return!(!this.disableWeekends||!a)||!!this.disabledDates&&this.disabledDates.split(",").map((t=>t.trim())).includes(this.formatDate(n))}isWeekend(t){const e=t.getDay();return 0===e||6===e}daysInMonth(t,e){return Array.from({length:new Date(e,t+1,0).getDate()},((t,e)=>e+1))}calcWeekdayStart(t,e,i){const n=new Date(t,e,i).getDay();return{"grid-column-start":`${0===n?7:n}`}}setYears(){this.minDate&&this.checkValidDate(this.minDate)||(this.minDate=this.today.getFullYear()-1+"-01-01"),this.maxDate&&this.checkValidDate(this.maxDate)||(this.maxDate=`${this.today.getFullYear()+1}-12-31`);const t=new Date(this.minDate).getFullYear(),e=new Date(this.maxDate).getFullYear();for(let i=t;i<=e;i++)this.years.push(i)}startInputHandler(t){if(this.open=!0,!this.checkValidDate(t.target.value))return null;const e=new Date(t.target.value),i=e.getFullYear(),n=e.getMonth(),a=e.getDate();this.shouldDisable(i,n,a)?this.startDate=null:(this.startDate=new Date(t.target.value),this.makeSelection())}endInputHandler(t){if(this.open=!0,!this.checkValidDate(t.target.value))return null;const e=new Date(t.target.value),i=e.getFullYear(),n=e.getMonth(),a=e.getDate();this.shouldDisable(i,n,a)?this.endDate=null:(this.endDate=new Date(t.target.value),this.makeSelection())}arrowDirection(){return this.endDate&&this.startDate&&this.endDate<this.startDate?"backwards":""}getCalendarClasses(){let t="calendar-wrapper ";return this.activeSelectionState&&(t+="active-selection "),t}render(){return i(n,null,i("div",{class:"pn-date-input-container"},i("input",{type:"text",value:this.startDate?this.formatDate(this.startDate):null,onInput:t=>this.startInputHandler(t),onFocusin:()=>this.open=!0,placeholder:this.placeholder}),this.range&&i("pn-icon",{class:this.arrowDirection(),symbol:"arrow-right",color:"blue700"}),this.range&&i("input",{type:"text",value:this.formatDate(this.endDate),onInput:t=>this.endInputHandler(t),onFocusin:()=>this.open=!0,placeholder:this.endPlaceholder}),i("button",{class:"pn-date-calendar",type:"button",onClick:()=>this.open=!this.open},i("pn-icon",{symbol:"calendar",color:"blue700"}))),i("div",{class:this.getCalendarClasses(),"data-open":this.open},i("div",{class:"calendar"},this.years.map((t=>i("div",{"data-year":t},this.months.map(((e,n)=>i("div",{"data-month":e},i("h3",{class:"pn-date-picker-month"},e," - ",t),i("div",{class:"month"},this.week.map((t=>i("h4",{class:"weekday pn-2xs"},t))),this.daysInMonth(n,t).map((e=>i("button",{class:"day",style:this.calcWeekdayStart(t,n,e),"data-day":e,"data-today":this.checkToday(t,n,e),"data-selected":this.calculateSelected(t,n,e),onClick:i=>this.send({year:t,month:n,day:e},i),onPointerOver:i=>this.send({year:t,month:n,day:e},i),tabindex:"-1",disabled:this.shouldDisable(t,n,e),type:"button"},i("span",{class:"number"},e))))))))))))))}get hostElement(){return a(this)}static get watchers(){return{start:["startHandler"],end:["endHandler"],open:["openHandler"]}}};r.style='pn-date-picker{position:relative;display:inline-block}pn-date-picker .weekday{color:#5e554a;font-weight:500}pn-date-picker .calendar-wrapper{background:#ffffff;border-radius:0.5em;position:absolute;top:115%;width:100%;left:0;overflow:hidden;z-index:5;-webkit-box-shadow:0px 6.4000000954px 14.3999996185px 0px #00000021, 0px 1.2000000477px 3.5999999046px 0px #0000001a;box-shadow:0px 6.4000000954px 14.3999996185px 0px #00000021, 0px 1.2000000477px 3.5999999046px 0px #0000001a;visibility:hidden;pointer-events:none;-webkit-transition-property:visibility;transition-property:visibility;-webkit-transition-delay:0.2s;transition-delay:0.2s;-webkit-transition-duration:0s;transition-duration:0s}pn-date-picker .calendar-wrapper[data-open]{visibility:visible;pointer-events:auto;-webkit-transition-delay:0s;transition-delay:0s}pn-date-picker .calendar-wrapper[data-open] .calendar{max-height:min(30em, 80vh);-webkit-transition-delay:0s;transition-delay:0s}pn-date-picker .calendar{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;text-align:center;max-height:0;overflow:auto;-webkit-transition:max-height 0.2s cubic-bezier(0.7, 0, 0.3, 1);transition:max-height 0.2s cubic-bezier(0.7, 0, 0.3, 1);max-width:22em;margin:auto;}pn-date-picker .calendar::-webkit-scrollbar{background-color:#fff;width:0.75em}pn-date-picker .calendar::-webkit-scrollbar-track{background-color:#fff}pn-date-picker .calendar::-webkit-scrollbar-thumb{background-color:#005d92;border-radius:1em;border:0.25em solid #fff}pn-date-picker .calendar::-webkit-scrollbar-thumb:hover{background-color:#0d234b}pn-date-picker .calendar::-webkit-scrollbar-button{display:none}pn-date-picker [data-month]{padding-top:1.5em}pn-date-picker .pn-date-picker-month{font-weight:500}pn-date-picker .month{font-size:1em;display:grid;padding:0.5em;grid-template-columns:repeat(7, 1fr);grid-gap:0.5em 0;background:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}pn-date-picker .day{font-size:1em;background:none;aspect-ratio:1;border:none;outline:none;position:relative;cursor:pointer;-webkit-transition:background 0.15s, border-radius 0.15s;transition:background 0.15s, border-radius 0.15s;border-radius:50%;padding:0;}pn-date-picker .day>span.number{position:relative;padding:0.6em}pn-date-picker .day::before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;-webkit-transition:inherit;transition:inherit}pn-date-picker .day[data-today]::after{content:"";position:absolute;width:0.4em;height:0.4em;bottom:10%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);border-radius:50%;background:#005d92}pn-date-picker .day[data-selected=start][data-today]::after,pn-date-picker .day[data-selected=end][data-today]::after,pn-date-picker .day[data-selected=single][data-today]::after{background:#e0f8ff}pn-date-picker .day[data-selected=start]::before,pn-date-picker .day[data-selected=end]::before,pn-date-picker .day[data-selected=single]::before{border-radius:50%;background-color:#005d92}pn-date-picker .day[data-selected=start]::before{border-top-right-radius:0;border-bottom-right-radius:0}pn-date-picker .day[data-selected=start],pn-date-picker .day[data-selected=end],pn-date-picker .day[data-selected=single]{color:white}pn-date-picker .day[data-selected=between]::before{background-color:#e0f8ff;border-radius:0}pn-date-picker .day[data-selected=end][data-selected=end]::before{border-top-left-radius:0;border-bottom-left-radius:0}pn-date-picker .day:focus,pn-date-picker .day:hover{background-color:#effbff}pn-date-picker .pn-date-input-container{background:#ffffff;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;gap:1em;width:100%;padding:0.5em 0.5em 0.5em 0.75em;border-radius:0.5em;border:0.1rem solid #969087;-webkit-transition:-webkit-box-shadow 0.15s;transition:-webkit-box-shadow 0.15s;transition:box-shadow 0.15s;transition:box-shadow 0.15s, -webkit-box-shadow 0.15s}pn-date-picker .pn-date-input-container:focus-within{-webkit-box-shadow:0 0 0 0.1em #fff, 0 0 0 0.2em #005d92;box-shadow:0 0 0 0.1em #fff, 0 0 0 0.2em #005d92}pn-date-picker .pn-date-input-container .divider{width:0.15em;height:1.15em;background:#005d92;border-radius:1em;-ms-flex:0 0 auto;flex:0 0 auto}pn-date-picker .pn-date-input-container pn-icon{-webkit-transition:-webkit-transform 0.15s cubic-bezier(0.7, 0, 0.3, 1);transition:-webkit-transform 0.15s cubic-bezier(0.7, 0, 0.3, 1);transition:transform 0.15s cubic-bezier(0.7, 0, 0.3, 1);transition:transform 0.15s cubic-bezier(0.7, 0, 0.3, 1), -webkit-transform 0.15s cubic-bezier(0.7, 0, 0.3, 1)}pn-date-picker .pn-date-input-container pn-icon.backwards{-webkit-transform:rotate(180deg);transform:rotate(180deg)}pn-date-picker .pn-date-input-container input{border:none;outline:none;padding:0;font-size:1em;width:100%;background:transparent;padding:0.15em 0;-webkit-transition:inherit;transition:inherit}pn-date-picker .pn-date-input-container input:first-of-type::-webkit-input-placeholder{text-align:right}pn-date-picker .pn-date-input-container input:first-of-type::-moz-placeholder{text-align:right}pn-date-picker .pn-date-input-container input:first-of-type:-ms-input-placeholder{text-align:right}pn-date-picker .pn-date-input-container input:first-of-type::-ms-input-placeholder{text-align:right}pn-date-picker .pn-date-input-container input:first-of-type::placeholder{text-align:right}pn-date-picker .pn-date-input-container input:last-of-type::-webkit-input-placeholder{text-align:left}pn-date-picker .pn-date-input-container input:last-of-type::-moz-placeholder{text-align:left}pn-date-picker .pn-date-input-container input:last-of-type:-ms-input-placeholder{text-align:left}pn-date-picker .pn-date-input-container input:last-of-type::-ms-input-placeholder{text-align:left}pn-date-picker .pn-date-input-container input:last-of-type::placeholder{text-align:left}pn-date-picker .pn-date-input-container button.pn-date-calendar{border:none;background:none;cursor:pointer;outline:none;-webkit-transition:background 0.15s, -webkit-box-shadow 0.15s;transition:background 0.15s, -webkit-box-shadow 0.15s;transition:background 0.15s, box-shadow 0.15s;transition:background 0.15s, box-shadow 0.15s, -webkit-box-shadow 0.15s;border-radius:50%;padding:0.2em}pn-date-picker .pn-date-input-container button.pn-date-calendar:hover{background:#e0f8ff}pn-date-picker .pn-date-input-container button.pn-date-calendar:focus{-webkit-box-shadow:0 0 0 0.1em #fff, 0 0 0 0.2em #005d92;box-shadow:0 0 0 0.1em #fff, 0 0 0 0.2em #005d92;background:#e0f8ff}pn-date-picker .active-selection [data-selected=single],pn-date-picker .active-selection [data-selected=between],pn-date-picker .active-selection [data-selected=end]{-webkit-animation:active-selection 0.8s infinite alternate;animation:active-selection 0.8s infinite alternate}@-webkit-keyframes active-selection{to{opacity:0.7}}@keyframes active-selection{to{opacity:0.7}}';export{r as pn_date_picker}