var __awaiter=this&&this.__awaiter||function(t,e,n,a){function r(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,i){function o(t){try{l(a.next(t))}catch(e){i(e)}}function s(t){try{l(a["throw"](t))}catch(e){i(e)}}function l(t){t.done?n(t.value):r(t.value).then(o,s)}l((a=a.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,r,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return l([t,e])}}function l(o){if(a)throw new TypeError("Generator is already executing.");while(n)try{if(a=1,r&&(i=o[0]&2?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;if(r=0,i)o=[o[0]&2,i.value];switch(o[0]){case 0:case 1:i=o;break;case 4:n.label++;return{value:o[1],done:false};case 5:n.label++;r=o[1];o=[0];continue;case 7:o=n.ops.pop();n.trys.pop();continue;default:if(!(i=n.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){n.label=o[1];break}if(o[0]===6&&n.label<i[1]){n.label=i[1];i=o;break}if(i&&n.label<i[2]){n.label=i[2];n.ops.push(o);break}if(i[2])n.ops.pop();n.trys.pop();continue}o=e.call(t,n)}catch(s){o=[6,s];r=0}finally{a=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};System.register(["./p-9cbc7e95.system.js"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.r;n=t.h}],execute:function(){var a="#CentionChatList .message .info{display:none}.pn-virtual-agent{position:fixed;bottom:1em;right:10vw;z-index:1}.pn-virtual-agent #CentionWidgetFooter{display:none}.pn-virtual-agent #CentionChatHeader{-webkit-box-shadow:rgba(0, 0, 0, 0.1) 0 0 0 1px;box-shadow:rgba(0, 0, 0, 0.1) 0 0 0 1px}.pn-virtual-agent #CentionChatQuestion{-webkit-box-shadow:rgba(0, 0, 0, 0.1) 0 0 0 1px inset;box-shadow:rgba(0, 0, 0, 0.1) 0 0 0 1px inset;height:24px;padding:5px 10px}";var r=t("pn_virtual_agent",function(){function t(t){e(this,t);this.parcelid="";this.areaid=23;this.show=true;this.instanceActive=false}t.prototype.loadVirtualAgentScripts=function(){window.CentionBaseURL="https://chat-postnord.clearinteract.se";function t(t){var e=document.createElement("script");document.head.appendChild(e);e.src=t}t("https://code.jquery.com/jquery-1.12.0.min.js");t("https://chat-postnord.clearinteract.se/cention/chat/js/widget.js")};t.prototype.checkStatus=function(){return __awaiter(this,void 0,void 0,(function(){var t,e;return __generator(this,(function(n){switch(n.label){case 0:return[4,fetch("https://app.iva-pncs.prod.postnord.services/api/can_handle?id=".concat(this.parcelid))];case 1:t=n.sent();e=this;return[4,t.json()];case 2:e.status=n.sent();return[2]}}))}))};t.prototype.initVirtualAgent=function(){return __awaiter(this,void 0,void 0,(function(){var t,e,n;var a=this;return __generator(this,(function(r){if(document.getElementById("CentionChat")){this.instanceActive=true;return[2]}this.instanceActive=true;this.checkStatus();t=function(){var t=setInterval((function(){if(typeof CentionChat!=="undefined"){clearInterval(t);var e=a.areaid;CentionChat("cention-chat-container",{translation:{"*Please allow cookie from {CENTION_BASE_URL} to make sure your chat continues if you browse to other pages during the chat.":"","En kopia av konversationen kommer att skickas till {CLIENT_EMAIL}":"","PostNord skriver...":"","Agent(s) har bjudit in: {AGENT_NAMES}":"","Agent(s) tog bort: {AGENT_NAMES}":"","Chatten har avslutats.":"","Återansluter, vänligen vänta ...":"",System:"","Den uppladdade filen är för stor.":"","Denna session har löpt ut.":"","Ett fel har inträffat vid uppladdningen av filen.":"","Ställ din fråga...":"","{AGENT_NAME} har avslutat chatten.":"","{AGENT_NAME} har lämnat chatten.":"","{AGENT_NAME} har anslutit till chatten.":"","Väntar på medarbetare":"","{FROM_AGENT} har skickat vidare chatten till {TO_AGENT}":"","Du har avslutat chatten.":""},css:{logo:"<i class='fa fa-comments'></i>",headerColor:"#00A0D6",headerBorderColor:"#00A0D6",headerTextColor:"#fff",mainColor:"#FFF",mainBorderColor:"#00A0D6",fontColor:"#000",buttonStartColor:"#00A0D6",buttonStartBorderColor:"#00A0D6",buttonStartTextColor:"#fff",buttonAwayColor:"#BEBEBE",buttonAwayTextColor:"#000000",buttonAwayBorderColor:"#BEBEBE",buttonAwayCustomClass:"CentionAwayButton",buttonRetryTextColor:"#000",messageBackgroundColor:"",messageAwayTextColor:"#000",menuTextColor:"#25335E",footerTextColor:"#000",tickKerningOffset:"-6px",tickUnsentColor:"lightgray",tickUnreadColor:"lightgray",tickSentColor:"green",tickReadColor:"green"},text:{textTitle:"Chatt",textTitleProactive:"Behöver du lite hjälp?",textButtonStart:"Börja chatta",textButtonAway:"Kontakta oss",textButtonRetry:"Försök igen",textButtonProactiveStart:"Chatta",textButtonProactiveLater:"Kanske senare",textInputName:"Namn",textInputEmail:"Email",textInputQuestion:"Fråga",textStatusConnecting:"Ansluter...",textStatusQueue:"Vänligen vänta, vi hjälper dig strax...",textStatusConnected:"Du har anslutits till",textMessageCurrentQueue:"Din nuvarande plats i kön är:",textMessageAgentBusy:"Tyvärr är alla agenter upptagna för tillfället.",textMessageAway:"Vi ber om ursäkt, antingen är chatten stängd eller så är alla agenter upptagna för tillfället.",textMessageEmailInvalid:"Du måste ange en giltig mailadress",textMessageChatEnded:"Chatten är avslutad.",textMessageProactive:"Har du en fråga? Skriv här för att få hjälp.",textMenuSendFile:"Skicka fil",textMenuNewChat:"Ny chatt",textMenuFinishChat:"Avsluta chatt",textMenuPrintChat:"Skriv ut",textMenuSaveChat:"Spara utdrag",textTickSent:"✓",textTickRead:"✓",textEULA:"I consent to that information about this chat will be collected and stored in accordance with Data Protections laws and directives."},ui:{buttonAwayEnable:false,buttonAwayLink:"#",position:"bottomRight",bottomPosition:0,rightPosition:0,extraFieldEnabled:false,extraFieldMandatory:false,extraFieldDisplayName:"",loadFontAwesome:true,proactiveEnable:false,proactiveDelayTime:30,proactiveTimeAfterDecline:45,proactiveRepeatedContact:2,proactiveTimeout:20,proactiveImmediateStart:false,askEULA:false,hideChatWhenOffline:true},hooks:{onChatMaximize:function(){},onChatMinimize:function(){}},areaId:e})}}),150);return};if(this.status){t();e=0;n=setInterval((function(){var t=document.getElementById("textButtonStart");if(!!t){var r=document.getElementById("textInputName");r.value="Du";var i=document.getElementById("textInputEmail");i.value="Guest@postnord.se";var o=document.getElementById("textInputQuestion");o.innerText=a.parcelid;t.click();clearInterval(n)}e++;if(e>15)clearInterval(n)}),250)}return[2]}))}))};t.prototype.componentWillLoad=function(){this.loadVirtualAgentScripts();this.checkStatus()};t.prototype.componentDidUpdate=function(){this.checkStatus()};t.prototype.render=function(){var t=this;if(this.status&&this.show){return n("div",{class:"pn-virtual-agent"},n("div",{id:"cention-chat-container"}),n("pn-button-container",{appearance:"secondary",style:{display:this.instanceActive?"none":"block"}},n("button",{onClick:function(){return t.initVirtualAgent()}},"Chatta om ditt paket")))}};return t}());r.style=a}}}));