import { boolean, date, select } from "@storybook/addon-knobs";
import readme from "./readme.md";

export default {
  title: "input/Calendar",
  parameters: {
    notes: readme
  }
};

const langOptions = ["sv", "da", "en", "fi", "no"];
const startOfWeekOptions = [0, 1, 2, 3, 4, 5, 6];

const customDateKnob = (name, defaultValue) => {
  const stringTimestamp = date(name, defaultValue);
  const dateFromTimestamp = new Date(stringTimestamp);
  const day = dateFromTimestamp.getDate();
  const month = dateFromTimestamp.getMonth();
  const year = dateFromTimestamp.getFullYear();
  return `${year}-${month+1}-${day}`;
}

export const regular = () => {
  // Storybook Knobs ------------------------------------------//
  const valueSelectedDate = customDateKnob("value", new Date('Jan 18 2020'));
  const minSelectedDate = customDateKnob("min", new Date('Jan 4 2020'));
  const maxSelectedDate = customDateKnob("max", new Date('Jan 26 2020'));
  const disableDate = customDateKnob("disable specific date", new Date('Jan 24 2020'));
  const languageString = select("language", langOptions, "sv");
  const selectedStartOfWeek = select("start of week", startOfWeekOptions, 0);
  const disabledWeekendsBool = boolean("disable weekends", false);
  const minActiveDate = customDateKnob("min active date", new Date('Jan 8 2020'));
  const maxActiveDate = customDateKnob("max active date", new Date('Jan 10 2020'));
  const monthView = boolean("month view", false);
  const disableMonthsView = boolean("disable months view", false);
  // --------------------------------------------------------- //

  return `
    <pn-calendar
      value=${valueSelectedDate}
      min=${minSelectedDate}
      max=${maxSelectedDate}
      language=${languageString}
      disable-days="${disableDate},2020-01-23"
      disable-weekends=${disabledWeekendsBool}
      start-of-week=${selectedStartOfWeek}
      min-active-date=${minActiveDate}
      max-active-date=${maxActiveDate}
      month-view="${monthView}"
      disable-months-view="${disableMonthsView}"
    >

    </pn-calendar>
  `;
};
